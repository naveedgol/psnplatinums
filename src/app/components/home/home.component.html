<div class="outermost-div">
    <mat-card class="search-card">
        <mat-card-content class="search-box">
            <mat-form-field>
                <input 
                    matInput 
                    #searchInput 
                    placeholder="Enter a PSN ID" 
                    autocomplete="off" 
                    (keydown.enter)="search()"
                    [(ngModel)]="query">
            </mat-form-field>
            <mat-progress-bar *ngIf="loading" mode="{{loadingProgress.fetched ? 'determinate' : 'indeterminate'}}"
                [value]="loadingProgress.fetched/loadingProgress.total * 100"></mat-progress-bar>
            <mat-card-subtitle>Ensure your profile is updated on
                <a target="_blank" rel="noopener" href="https://psnprofiles.com/">PSNProfiles</a>.
            </mat-card-subtitle>
            <div class="error" *ngIf="error">
                {{error}}
            </div>
            <button class="action-button" mat-raised-button color="primary"
                (click)="mode = 'mosaic'; search()">Mosaic</button>
            <!-- <button class="action-button" mat-raised-button color="primary"
                (click)="mode = 'wrapped'; search()">2020
                Wrapped</button> -->
        </mat-card-content>
    </mat-card>

    <!-- <router-outlet></router-outlet> -->
    <app-mosaic *ngIf="profileFetched && mode=='mosaic'"></app-mosaic>
    <!-- <app-wrapped *ngIf="profileFetched && mode=='wrapped'"></app-wrapped> -->
</div>